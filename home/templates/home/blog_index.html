{# home/templates/home/blog_index.html #}
{% extends "base.html" %}
{% load wagtailcore_tags %}

{% block title %}Blog | Mi Sitio{% endblock title %}

{% block content %}
  <section class="blog-index">
    <h1>{{ page.title }}</h1>
    
    {% if page.intro %}
      <div class="blog-intro">
        {{ page.intro|richtext }}
      </div>
    {% endif %}

    <div class="blog-list">
      {% for blog in blogpages %}
        <article class="blog-entry">
          <h2><a href="{{ blog.url }}">{{ blog.title }}</a></h2>
          {# Aquí se puede mostrar un resumen o descripción si lo has configurado #}
          <p>{{ blog.search_description|default:"" | truncatewords:30 }}</p>
        </article>
      {% empty %}
        <p>No hay entradas de blog disponibles.</p>
      {% endfor %}
    </div>
  </section>
{% endblock content %}
